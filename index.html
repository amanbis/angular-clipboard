<!DOCTYPE html>
<html ng-app="clipboard">
	<head>
		<meta charset="UTF-8" />
        <meta name="viewport" content="initial-scale=1.0" />
        <meta name="author" content="Aman Biswas" />
        <meta name="description" content="To-do list made in Angular" />

        <title>Clipboard | Getting shit done since 1921...again </title>

        <link rel="stylesheet" type="text/css" href="css/normalize.css" />
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
	</head>
	<body ng-controller="MainController as mainCtrl">
		<div class="main">

			<nav>
				<div class="nav-container">
					<div ng-style="{'background-color':theme.colorRGB.dark}" class="name-container">
						<div ng-style="{'background-color':theme.colorRGB.dark}" class="name-container">
							<div class="name">
								<div class="app-icon"></div>
								<h1>Clipboard</h1>
								<a href="#options-menu"><div class="options-icon"></div></a>
							</div>
						</div>
					</div>

					<div class="nav-list">
						<ul>
							<a ng-click="selectTab(list)" ng-repeat="list in checklist track by $index" href="#">
								<li ng-style="{'border-color':theme.colorRGB.light}" class="list-item">
									<h2>{{ list.title }}</h2>
								</li>
							</a>
						</ul>
					</div>
					<div>
						<a href="#new-list">
							<div ng-style="{'background-color':theme.colorRGB.light}" class="list-icon"></div>
						</a>
					</div>
				</div>
			</nav>
		
			<div class="content" ng-class="{ 'visible': taskView }">
				<div class="content-bg" ng-class="theme.bgImg">
					
					<div ng-style="{'background-color':theme.colorRGB.light}" class="title-container">
						<div class="list-title">
							<a ng-click="taskView = false" href="#"><div class="back-btn"></div></a>
							<div ng-repeat="list in checklist track by $index" class="title"><h1 ng-show="isSelected(list.id)">{{ list.title }}</h1></div>
							<a ng-click="editTitle()" href="#edit-list"><div class="edit-btn"></div></a>
						</div>
					</div>

					<!--<form class="task-input">
						<input type="text">
					</form>-->

					<div ng-repeat="list in checklist track by $index" ng-show="isSelected(list.id)" class="task-container">
						<div class="current">
							<form>
								<div ng-repeat="task in list.tasks track by $index" class="task">
									<div class="checkbox"><input ng-model="selectTask.checked[task.id]" ng-click="completeTask(task)" type="checkbox"></div>
									<a ng-click="editTask(list.tasks, task)" href="#edit-task"><div class="task-content"><label>{{ task.description }}</label></div></a>
								</div>
							</form>
						</div>
						<div class="completed">
							<form>
								<div ng-repeat="complete in list.completed track by $index" class="task">
									<div class="checkbox"><input ng-model="selectTask.checked[complete.id]" ng-click="undoComplete(complete)" type="checkbox"></div>
									<a ng-click="editTask(list.completed, complete)" href="#edit-task"><div class="task-content"><label>{{ complete.description }}</label></div></a>
								</div>
							</form>
						</div>
					</div>

					<div>
						<a href="#new-task">
							<div ng-style="{'background-color':theme.colorRGB.light}" class="task-icon"></div>
						</a>
					</div>

				</div>
			</div>

			<div id="options-menu" class="modal">
				<div class="options-menu">
					<ul>
						<a href="#theme"><li>
							<p>Change Theme</p>
						</li></a>
						<a href="#info"><li>
							<p>About Clipboard</p>
						</li></a>
						<a href="#close"><li>
							<p>Close</p>
						</li></a>
					</ul>
				</div>
			</div>

			<div id="theme" class="modal">
				<div ng-style="{'border-color':theme.colorRGB.dark}" class="modal-container theme">
					<div class="modal-content">
						<div class="modal-title"><h1>Change Theme</h1></div>
						<form class="theme-options">
							<div><input id="bamboo" type="radio" ng-model="theme.bgImg" ng-click="setTheme('142, 168, 134', '119, 139, 113')" value="bamboo" /><label for="bamboo"> Bamboo</label></div>

							<div><input id="fields" type="radio" ng-model="theme.bgImg" ng-click="setTheme('255, 216, 117', '250, 190, 40')" value="fields" /><label for="fields"> Fields</label></div>

							<div><input id="mountains" type="radio" ng-model="theme.bgImg" ng-click="setTheme('199, 185, 197', '71, 45, 68')" value="mountains" /><label for="mountains"> Mountains</label></div>

							<div><input id="sky" type="radio" ng-model="theme.bgImg" ng-click="setTheme('137, 158, 166', '89, 117, 129')" value="sky" /><label for="sky"> Sky</label></div>

							<div><input id="cliffs" type="radio" ng-model="theme.bgImg" ng-click="setTheme('78, 85, 100', '44, 48, 56')" value="cliffs" /><label for="cliffs"> Cliffs</label></div>
						</form>
						<div class="button-container">
							<div class="buttons">
								<a ng-style="{'color':theme.colorRGB.dark}" class="button" href="#close">DONE</a>
							</div>							
						</div>
					</div>
				</div>
			</div>
		</div>

		<div id="info" class="modal">
				<div ng-style="{'border-color':theme.colorRGB.dark}" class="modal-container info">
					<div class="modal-content">
						<div class="modal-title"><h1>About Clipboard</h1></div>
						<p>Clipboard is a simple productivity webapp to get stuff done. I've built it from the ground up in AngularJS. You can check out my other projects on <a ng-style="{'color':theme.colorRGB.light}" target="_blank" href="https://github.com/amanbis">GitHub</a> or on my personal <a ng-style="{'color':theme.colorRGB.light}" target="_blank" href="http://www.amanbiswas.com">website</a>.</p>
						<div class="button-container">
							<div class="buttons">
								<a ng-style="{'color':theme.colorRGB.dark}" class="button" href="#close">THANKS</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		<div class="tabs" ng-repeat="list in mainCtrl.checklist track by $index">
			<li ng-class="{ active: mainCtrl.isSelected(list.id) }">
				<a href="#" ng-click="mainCtrl.selectTab(list.id)"><h3>{{list.title}}</h3></a>
				<button ng-click="mainCtrl.removeList(list)">x</button>
			</li>
		</div>

		<li>
			<a href="#" ng-click="mainCtrl.addList()"><h3>Create New List</h3></a>
		</li>
		<p>List tab: {{mainCtrl.tab}}</p>

		<div ng-repeat="list in mainCtrl.checklist">
			<div ng-show="mainCtrl.isSelected(list.id)">

				<form class="title" ng-hide="list.active" ng-submit="mainCtrl.addTitle(list)">
					<input ng-model="mainCtrl.newTitle" type="text" name="newTitle" placeholder="Add a title">
					<input type="submit">
				</form>
				
				<div ng-show="list.active">
					<h1>{{list.title}}</h1>
					<button ng-click="mainCtrl.editTitle(list)">Edit</button>
				</div>

		<p>List tab: {{mainCtrl.tab}}</p>

		<div ng-repeat="list in mainCtrl.checklist">
			<div ng-show="mainCtrl.isSelected(list.id)">

				<form class="title" ng-hide="list.active" ng-submit="mainCtrl.addTitle(list)">
					<input ng-model="mainCtrl.newTitle" type="text" name="newTitle" placeholder="Add a title">
					<input type="submit">
				</form>
				
				<div ng-show="list.active">
					<h1>{{list.title}}</h1>
					<button ng-click="mainCtrl.editTitle(list)">Edit</button>
				</div>
				<form ng-submit="mainCtrl.addTask(list)">
					<input ng-model="mainCtrl.newTask" type="text" name="newTask" placeholder="Add an item in {{list.title}}">
					<input type="submit">
				</form>

				<form ng-repeat="task in list.tasks track by $index">
					<label>
						<input ng-model="mainCtrl.selectTask.checked[task.id]" ng-click="mainCtrl.completeTask(list, task)" type="checkbox" name="task" id="item">
						<span ng-show="!task.active"><input ng-model="mainCtrl.selectTask.taskDesc[task.id]" type="text"> <button ng-click="mainCtrl.setTaskEdit(task)">✔</button> <button ng-click="mainCtrl.cancelTaskEdit(task)">✖</button></span>
						<span ng-show="task.active">{{task.description}} <button ng-click="mainCtrl.editTask(task)">✎</button> <button ng-click="mainCtrl.removeTask(list, task)">✖</button></span>
					</label>
				</form>

				<h3>{{list.completed.length}} Completed Tasks</h3>

				<form ng-repeat="complete in list.completed track by $index">
					<label ng-class="{ active: mainCtrl.selectTask.checked[task.id] }"><input ng-model="mainCtrl.selectTask.checked[complete.id]" ng-click="mainCtrl.undoComplete(list, complete)" type="checkbox">{{complete.description}}</label>
				</form>
				{{ mainCtrl.selectTask }}
			</div>
		</div>

		<script type="text/javascript" src="js/app.js"></script>
	</body>
</html>